function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qRw5:function(e,n,t){"use strict";t.r(n);var r,s=t("ofXK"),o=t("tyNb"),i=t("lJxs"),c=t("fXoL"),a=t("vkgz"),u=t("JIr8"),h=t("2Vo4"),f=t("LRne"),d=t("EY2u"),b=t("HDdC"),l=t("QIIi"),p=t("/VmJ"),g=((r=function(){function e(n,t){var r=this;_classCallCheck(this,e),this.usersApiService=n,this.notificationsService=t,this.users=new h.a([]),this.months=new h.a([]),this.users$=this.users.asObservable(),this.months$=this.months.asObservable(),this.handleError=function(e){return e&&e.message?(r.notificationsService.error(e.message),Object(f.a)(d.a)):function(e,n){return new b.a((function(n){return n.error(e)}))}(e)}}return _createClass(e,[{key:"getUsers",value:function(){var e=this;return this.usersApiService.getUsers().pipe(Object(i.a)((function(n){return e.onUsersReceived(n)})),Object(a.a)((function(){return e.notificationsService.success("Users loaded successfully")})),Object(u.a)(this.handleError))}},{key:"onUsersReceived",value:function(e){var n=this,t=[];return e.map((function(e){return n.makeMonthArray(t,e)})),t=t.filter((function(e){return null!==e})),this.users.next(e),this.months.next(t),e}},{key:"makeMonthArray",value:function(e,n){var t=new Date(n.dob),r=t.toLocaleString("en",{month:"long"}),s=t.getMonth();return e[s]?e[s].usersQuantity++:e[s]={month:r,usersQuantity:1},n.month=r,n}}]),e}()).\u0275fac=function(e){return new(e||r)(c.Ob(l.a),c.Ob(p.a))},r.\u0275prov=c.Cb({token:r,factory:r.\u0275fac}),r);function m(e,n){if(1&e){var t=c.Mb();c.Lb(0,"p",2),c.Sb("mouseover",(function(){c.ac(t);var e=n.$implicit;return c.Ub().onHover(e.month)})),c.gc(1),c.Kb()}if(2&e){var r=n.$implicit,s=c.Ub();c.Yb("ngClass",s.setColor(r)),c.wb(1),c.hc(r.month)}}var v,_,w=((_=function(){function e(){_classCallCheck(this,e),this.hoveredMonth=new c.n}return _createClass(e,[{key:"onHover",value:function(e){this.hoveredMonth.emit(e)}},{key:"setColor",value:function(e){switch(e.usersQuantity){case 0:case 1:case 2:return"month--gray";case 3:case 4:case 5:case 6:return"month--blue";case 7:case 8:case 9:case 10:return"month--green";default:return"month--red"}}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275cmp=c.Ab({type:_,selectors:[["app-months"]],inputs:{months:"months"},outputs:{hoveredMonth:"hoveredMonth"},decls:2,vars:1,consts:[[1,"container"],["class","month",3,"ngClass","mouseover",4,"ngFor","ngForOf"],[1,"month",3,"ngClass","mouseover"]],template:function(e,n){1&e&&(c.Lb(0,"div",0),c.fc(1,m,2,2,"p",1),c.Kb()),2&e&&(c.wb(1),c.Yb("ngForOf",n.months))},directives:[s.k,s.j],styles:[".container[_ngcontent-%COMP%]{padding-top:5px}.month[_ngcontent-%COMP%]{width:200px;height:50px;box-sizing:border-box;padding:30px 0;display:flex;justify-content:center;align-items:center;cursor:pointer;margin-bottom:5px;font-size:1.3rem}.month--gray[_ngcontent-%COMP%]{background:grey}.month--green[_ngcontent-%COMP%]{background:#0f0}.month--red[_ngcontent-%COMP%]{background:red}.month--blue[_ngcontent-%COMP%]{background:#00f}.month[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 0 hsla(0,0%,100%,.25)}"],changeDetection:0}),_),C=((v=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=c.Ab({type:v,selectors:[["app-user"]],inputs:{user:"user"},decls:8,vars:5,consts:[[1,"card"],[1,"card__photo"],[1,"card__info"],[1,"card__name"],[1,"card__date"]],template:function(e,n){1&e&&(c.Lb(0,"div",0),c.Hb(1,"div",1),c.Lb(2,"div",2),c.Lb(3,"div",3),c.gc(4),c.Kb(),c.Lb(5,"div",4),c.gc(6),c.Vb(7,"date"),c.Kb(),c.Kb(),c.Kb()),2&e&&(c.wb(4),c.hc(n.user.firstName+" "+n.user.lastName),c.wb(2),c.hc(c.Xb(7,2,n.user.dob,"fullDate")))},pipes:[s.e],styles:[".card[_ngcontent-%COMP%]{width:100%;background:#424242;padding:5px;height:210px;border-radius:5px;cursor:pointer}.card__photo[_ngcontent-%COMP%]{width:100%;height:100px;background:url(profile.d17c2f24c0a44f7ab410.svg) no-repeat 50%;background-size:contain;margin-bottom:25px}.card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.card__name[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.card__date[_ngcontent-%COMP%]{margin-bottom:25px;text-align:center}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 17px 0 rgba(0,0,0,.75)}"],changeDetection:0}),v);function x(e,n){if(1&e&&(c.Lb(0,"div",2),c.Hb(1,"app-user",3),c.Kb()),2&e){var t=n.$implicit;c.wb(1),c.Yb("user",t)}}var y,O=((y=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||y)},y.\u0275cmp=c.Ab({type:y,selectors:[["app-filtered"]],inputs:{users:"users"},decls:2,vars:1,consts:[[1,"users"],["class","user",4,"ngFor","ngForOf"],[1,"user"],[3,"user"]],template:function(e,n){1&e&&(c.Lb(0,"div",0),c.fc(1,x,2,1,"div",1),c.Kb()),2&e&&(c.wb(1),c.Yb("ngForOf",n.users))},directives:[s.k,C],styles:[".users[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap;box-sizing:border-box;padding:5px}.user[_ngcontent-%COMP%]{width:200px;margin:0 20px 20px}@media (max-width:707px){.users[_ngcontent-%COMP%]{justify-content:center}}"],changeDetection:0}),y);function k(e,n){if(1&e){var t=c.Mb();c.Lb(0,"div",5),c.Lb(1,"app-months",6),c.Sb("hoveredMonth",(function(e){return c.ac(t),c.Ub().onHover(e)})),c.Kb(),c.Kb()}if(2&e){var r=n.ngIf;c.wb(1),c.Yb("months",r)}}function M(e,n){1&e&&(c.Lb(0,"p",7),c.gc(1,"Hover over the month to see users"),c.Kb())}function P(e,n){if(1&e&&(c.Lb(0,"div",8),c.Hb(1,"app-filtered",9),c.Kb()),2&e){var t=n.ngIf;c.wb(1),c.Yb("users",t)}}var L,K,j=[{path:"",component:(L=function(){function e(n){_classCallCheck(this,e),this.usersService=n,this.isHovered=!1,this.isLoaded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUsers(),this.months$=this.usersService.months$,this.users$=this.usersService.users$}},{key:"getUsers",value:function(){var e=this;this.usersService.getUsers().subscribe((function(){return e.isLoaded=!0}))}},{key:"onHover",value:function(e){this.isHovered=!0,this.filteredUsers=this.users$.pipe(Object(i.a)((function(n){return n.filter((function(n){return n.month===e}))})))}}]),e}(),L.\u0275fac=function(e){return new(e||L)(c.Gb(g))},L.\u0275cmp=c.Ab({type:L,selectors:[["app-users"]],decls:7,vars:7,consts:[[1,"container"],["class","months",4,"ngIf"],[1,"filtered"],["class","filtered__no-user",4,"ngIf"],["class","filtered__user",4,"ngIf"],[1,"months"],[3,"months","hoveredMonth"],[1,"filtered__no-user"],[1,"filtered__user"],[3,"users"]],template:function(e,n){1&e&&(c.Lb(0,"div",0),c.fc(1,k,2,1,"div",1),c.Vb(2,"async"),c.Lb(3,"div",2),c.fc(4,M,2,0,"p",3),c.fc(5,P,2,1,"div",4),c.Vb(6,"async"),c.Kb(),c.Kb()),2&e&&(c.wb(1),c.Yb("ngIf",c.Wb(2,3,n.months$)),c.wb(3),c.Yb("ngIf",!n.isHovered&&n.isLoaded),c.wb(1),c.Yb("ngIf",c.Wb(6,5,n.filteredUsers)))},directives:[s.l,w,O],pipes:[s.b],styles:[".container[_ngcontent-%COMP%]{width:100%;min-height:100vh;box-sizing:border-box;display:flex;min-width:480px;max-width:1920px}.months[_ngcontent-%COMP%]{width:200px;background-color:#303030}.filtered[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.filtered__no-user[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:2rem}.filtered__user[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}"],changeDetection:0}),L)}],U=((K=function e(){_classCallCheck(this,e)}).\u0275mod=c.Eb({type:K}),K.\u0275inj=c.Db({factory:function(e){return new(e||K)},imports:[[o.a.forChild(j)],o.a]}),K);t.d(n,"UsersModule",(function(){return I}));var H,I=((H=function e(){_classCallCheck(this,e)}).\u0275mod=c.Eb({type:H}),H.\u0275inj=c.Db({factory:function(e){return new(e||H)},providers:[g],imports:[[U,s.c]]}),H)}}]);