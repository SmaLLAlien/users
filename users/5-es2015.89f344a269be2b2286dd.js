(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qRw5:function(e,t,n){"use strict";n.r(t);var s=n("ofXK"),r=n("tyNb"),o=n("lJxs"),i=n("fXoL"),c=n("vkgz"),a=n("JIr8"),u=n("2Vo4"),d=n("LRne"),b=n("EY2u"),h=n("HDdC"),p=n("QIIi"),l=n("/VmJ");let f=(()=>{class e{constructor(e,t){this.usersApiService=e,this.notificationsService=t,this.users=new u.a([]),this.months=new u.a([]),this.users$=this.users.asObservable(),this.months$=this.months.asObservable(),this.handleError=e=>e&&e.message?(this.notificationsService.error(e.message),Object(d.a)(b.a)):function(e,t){return new h.a(t=>t.error(e))}(e)}getUsers(){return this.usersApiService.getUsers().pipe(Object(o.a)(e=>this.onUsersReceived(e)),Object(c.a)(()=>this.notificationsService.success("Users loaded successfully")),Object(a.a)(this.handleError))}onUsersReceived(e){let t=[];return e.map(e=>this.makeMonthArray(t,e)),t=t.filter(e=>null!==e),this.users.next(e),this.months.next(t),e}makeMonthArray(e,t){const n=new Date(t.dob),s=n.toLocaleString("en",{month:"long"}),r=n.getMonth();return e[r]?e[r].usersQuantity++:e[r]={month:s,usersQuantity:1},t.month=s,t}}return e.\u0275fac=function(t){return new(t||e)(i.Ob(p.a),i.Ob(l.a))},e.\u0275prov=i.Cb({token:e,factory:e.\u0275fac}),e})();function g(e,t){if(1&e){const e=i.Mb();i.Lb(0,"p",2),i.Sb("mouseover",(function(){i.ac(e);const n=t.$implicit;return i.Ub().onHover(n.month)})),i.gc(1),i.Kb()}if(2&e){const e=t.$implicit,n=i.Ub();i.Yb("ngClass",n.setColor(e)),i.wb(1),i.hc(e.month)}}let m=(()=>{class e{constructor(){this.hoveredMonth=new i.n}onHover(e){this.hoveredMonth.emit(e)}setColor(e){switch(e.usersQuantity){case 0:case 1:case 2:return"month--gray";case 3:case 4:case 5:case 6:return"month--blue";case 7:case 8:case 9:case 10:return"month--green";default:return"month--red"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ab({type:e,selectors:[["app-months"]],inputs:{months:"months"},outputs:{hoveredMonth:"hoveredMonth"},decls:2,vars:1,consts:[[1,"container"],["class","month",3,"ngClass","mouseover",4,"ngFor","ngForOf"],[1,"month",3,"ngClass","mouseover"]],template:function(e,t){1&e&&(i.Lb(0,"div",0),i.fc(1,g,2,2,"p",1),i.Kb()),2&e&&(i.wb(1),i.Yb("ngForOf",t.months))},directives:[s.k,s.j],styles:[".container[_ngcontent-%COMP%]{padding-top:5px}.month[_ngcontent-%COMP%]{width:200px;height:50px;box-sizing:border-box;padding:30px 0;display:flex;justify-content:center;align-items:center;cursor:pointer;margin-bottom:5px;font-size:1.3rem}.month--gray[_ngcontent-%COMP%]{background:grey}.month--green[_ngcontent-%COMP%]{background:#0f0}.month--red[_ngcontent-%COMP%]{background:red}.month--blue[_ngcontent-%COMP%]{background:#00f}.month[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 0 hsla(0,0%,100%,.25)}"],changeDetection:0}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ab({type:e,selectors:[["app-user"]],inputs:{user:"user"},decls:8,vars:5,consts:[[1,"card"],[1,"card__photo"],[1,"card__info"],[1,"card__name"],[1,"card__date"]],template:function(e,t){1&e&&(i.Lb(0,"div",0),i.Hb(1,"div",1),i.Lb(2,"div",2),i.Lb(3,"div",3),i.gc(4),i.Kb(),i.Lb(5,"div",4),i.gc(6),i.Vb(7,"date"),i.Kb(),i.Kb(),i.Kb()),2&e&&(i.wb(4),i.hc(t.user.firstName+" "+t.user.lastName),i.wb(2),i.hc(i.Xb(7,2,t.user.dob,"fullDate")))},pipes:[s.e],styles:[".card[_ngcontent-%COMP%]{width:100%;background:#424242;padding:5px;height:210px;border-radius:5px;cursor:pointer}.card__photo[_ngcontent-%COMP%]{width:100%;height:100px;background:url(profile.d17c2f24c0a44f7ab410.svg) no-repeat 50%;background-size:contain;margin-bottom:25px}.card__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.card__name[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.card__date[_ngcontent-%COMP%]{margin-bottom:25px;text-align:center}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 17px 0 rgba(0,0,0,.75)}"],changeDetection:0}),e})();function w(e,t){if(1&e&&(i.Lb(0,"div",2),i.Hb(1,"app-user",3),i.Kb()),2&e){const e=t.$implicit;i.wb(1),i.Yb("user",e)}}let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Ab({type:e,selectors:[["app-filtered"]],inputs:{users:"users"},decls:2,vars:1,consts:[[1,"users"],["class","user",4,"ngFor","ngForOf"],[1,"user"],[3,"user"]],template:function(e,t){1&e&&(i.Lb(0,"div",0),i.fc(1,w,2,1,"div",1),i.Kb()),2&e&&(i.wb(1),i.Yb("ngForOf",t.users))},directives:[s.k,v],styles:[".users[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;flex-wrap:wrap;box-sizing:border-box;padding:5px}.user[_ngcontent-%COMP%]{width:200px;margin:0 20px 20px}@media (max-width:707px){.users[_ngcontent-%COMP%]{justify-content:center}}"],changeDetection:0}),e})();function x(e,t){if(1&e){const e=i.Mb();i.Lb(0,"div",5),i.Lb(1,"app-months",6),i.Sb("hoveredMonth",(function(t){return i.ac(e),i.Ub().onHover(t)})),i.Kb(),i.Kb()}if(2&e){const e=t.ngIf;i.wb(1),i.Yb("months",e)}}function y(e,t){1&e&&(i.Lb(0,"p",7),i.gc(1,"Hover over the month to see users"),i.Kb())}function O(e,t){if(1&e&&(i.Lb(0,"div",8),i.Hb(1,"app-filtered",9),i.Kb()),2&e){const e=t.ngIf;i.wb(1),i.Yb("users",e)}}const M=[{path:"",component:(()=>{class e{constructor(e){this.usersService=e,this.isHovered=!1,this.isLoaded=!1}ngOnInit(){this.getUsers(),this.months$=this.usersService.months$,this.users$=this.usersService.users$}getUsers(){this.usersService.getUsers().subscribe(()=>this.isLoaded=!0)}onHover(e){this.isHovered=!0,this.filteredUsers=this.users$.pipe(Object(o.a)(t=>t.filter(t=>t.month===e)))}}return e.\u0275fac=function(t){return new(t||e)(i.Gb(f))},e.\u0275cmp=i.Ab({type:e,selectors:[["app-users"]],decls:7,vars:7,consts:[[1,"container"],["class","months",4,"ngIf"],[1,"filtered"],["class","filtered__no-user",4,"ngIf"],["class","filtered__user",4,"ngIf"],[1,"months"],[3,"months","hoveredMonth"],[1,"filtered__no-user"],[1,"filtered__user"],[3,"users"]],template:function(e,t){1&e&&(i.Lb(0,"div",0),i.fc(1,x,2,1,"div",1),i.Vb(2,"async"),i.Lb(3,"div",2),i.fc(4,y,2,0,"p",3),i.fc(5,O,2,1,"div",4),i.Vb(6,"async"),i.Kb(),i.Kb()),2&e&&(i.wb(1),i.Yb("ngIf",i.Wb(2,3,t.months$)),i.wb(3),i.Yb("ngIf",!t.isHovered&&t.isLoaded),i.wb(1),i.Yb("ngIf",i.Wb(6,5,t.filteredUsers)))},directives:[s.l,m,_],pipes:[s.b],styles:[".container[_ngcontent-%COMP%]{width:100%;min-height:100vh;box-sizing:border-box;display:flex;min-width:480px;max-width:1920px}.months[_ngcontent-%COMP%]{width:200px;background-color:#303030}.filtered[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.filtered__no-user[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:2rem}.filtered__user[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}"],changeDetection:0}),e})()}];let C=(()=>{class e{}return e.\u0275mod=i.Eb({type:e}),e.\u0275inj=i.Db({factory:function(t){return new(t||e)},imports:[[r.a.forChild(M)],r.a]}),e})();n.d(t,"UsersModule",(function(){return P}));let P=(()=>{class e{}return e.\u0275mod=i.Eb({type:e}),e.\u0275inj=i.Db({factory:function(t){return new(t||e)},providers:[f],imports:[[C,s.c]]}),e})()}}]);